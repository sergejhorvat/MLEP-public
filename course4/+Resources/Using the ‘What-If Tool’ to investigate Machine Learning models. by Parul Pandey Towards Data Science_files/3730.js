(self.webpackChunklite=self.webpackChunklite||[]).push([[3730],{66249:(t,n,e)=>{"use strict";e.d(n,{o0:()=>h,a3:()=>I,GD:()=>b});var o=e(28655),r=e.n(o),i=e(67154),a=e.n(i),s=e(71439),l=e(67294),u=e(76532),c=e(62181),d=e(73810),p=e(6688),m=e(353),f=e(81645),g=e(46101);function v(){var t=r()(["\n  fragment AddToCatalogBookmarkButton_post on Post {\n    ...AddToCatalogBase_post\n  }\n  ","\n"]);return v=function(){return t},t}function y(){var t=r()(["\n  fragment AddToCatalogBookmarkButton_bookEdition on BookEdition {\n    ...AddToCatalogBase_bookEdition\n  }\n  ","\n"]);return y=function(){return t},t}var P="Add to list bookmark button";function h(t){var n=(0,p.I)(),e=(0,u.H)(),o=e.value;return e.loading||o?l.createElement(f.aR,a()({},t,{viewer:o}),(function(t){var n=t.onClick,e=t.bookmarkIcon,o=t.isPanelVisible;return l.createElement(d.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:P,ariaExpanded:o?"true":"false",onClick:n},e)})):l.createElement(c.R9,{operation:"register",susiEntry:"list"},l.createElement(m.Z,{className:n(g.K),"aria-label":P}))}var I=(0,s.Ps)(y(),f.Gm),b=(0,s.Ps)(v(),f._C)},93653:(t,n,e)=>{"use strict";e.d(n,{j:()=>u});var o=e(28655),r=e.n(o),i=e(71439),a=e(46829);function s(){var t=r()(["\n  mutation DeletePostMutation($targetPostId: ID!) {\n    deletePost(targetPostId: $targetPostId)\n  }\n"]);return s=function(){return t},t}var l=(0,i.Ps)(s()),u=function(t){var n=t?{variables:{targetPostId:t}}:{};return(0,a.useMutation)(l,n)}},79151:(t,n,e)=>{"use strict";e.d(n,{a:()=>u});var o=e(28655),r=e.n(o),i=e(71439),a=e(46829);function s(){var t=r()(["\n  mutation DismissPostMutation($postId: ID!) {\n    dismissPost(postId: $postId)\n  }\n"]);return s=function(){return t},t}var l=(0,i.Ps)(s()),u=function(t){return(0,a.useMutation)(l,{variables:{postId:t}})}},33241:(t,n,e)=>{"use strict";e.d(n,{g:()=>d,H:()=>p});var o=e(28655),r=e.n(o),i=e(71439),a=e(80439),s=e(67294),l=e(12291),u=e(85277);function c(){var t=r()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isBlocking\n      }\n    }\n  }\n"]);return c=function(){return t},t}var d=(0,i.Ps)(c()),p=(0,l.$j)()((function(t){var n=t.targetAuthorId,e=t.targetPostId,o=t.dispatch,r=t.children,i=t.onOptimisticComplete,l=t.isBlocking,c=t.viewerId;return s.createElement(a.mm,{mutation:d,onCompleted:function(){o((0,u.Dx)({message:"Successfully reported post."}))}},(function(t){return r({mutate:function(o,r){var a=t({variables:{targetAuthorId:n,targetPostId:e,alsoBlockAuthor:o,reason:r},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:n,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(c),isBlocking:l||o}}}});return i&&i(),a}})}))}))},53962:(t,n,e)=>{"use strict";e.d(n,{$:()=>p});var o=e(28655),r=e.n(o),i=e(71439),a=e(67294),s=e(32262),l=e(76579),u=e(96879),c=e(27952);function d(){var t=r()(["\n  fragment CopyFriendLinkMenuItem_post on Post {\n    id\n  }\n"]);return d=function(){return t},t}var p=function(t){var n=t.post,e=t.shareKey;return n&&e?a.createElement(s.Sl,null,a.createElement(l.b,{url:(0,u.Rk)((0,c.jVf)(n),{sk:e}),linkStyle:"SUBTLE"},(function(t){return t?"Copied!":"Copy Friend Link"}))):null};(0,i.Ps)(d())},63564:(t,n,e)=>{"use strict";e.d(n,{r:()=>I});var o=e(63038),r=e.n(o),i=e(67294),a=e(28655),s=e.n(a),l=e(71439),u=e(80439),c=e(12291),d=e(85277);function p(){var t=s()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return p=function(){return t},t}var m=(0,l.Ps)(p()),f=(0,c.$j)()((function(t){var n=t.children,e=t.dispatch,o=t.onCompleted,r=t.targetPostId;return i.createElement(u.mm,{mutation:m,onCompleted:function(){e((0,d.Dx)({message:"Responses are now hidden for this post."})),o&&o()},variables:{targetPostId:r,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:r,allowResponses:!1}}},(function(t){return n({mutate:t})}))})),g=(0,c.$j)()((function(t){var n=t.children,e=t.dispatch,o=t.onCompleted,r=t.targetPostId;return i.createElement(u.mm,{mutation:m,onCompleted:function(){e((0,d.Dx)({message:"Responses are now shown for this post."})),o&&o()},variables:{targetPostId:r,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:r,allowResponses:!0}}},(function(t){return n({mutate:t})}))})),v=e(72345),y=e(32262),P=e(82318),h=e(51064),I=function(t){var n=t.hidePopover,e=t.postId,o=t.allowResponses,a=(0,h.O)(!1),s=r()(a,3),l=s[0],u=s[1],c=s[2],d=function(){c(),n()};return i.createElement(i.Fragment,null,i.createElement(f,{targetPostId:e},(function(t){var n=t.mutate;return i.createElement(v.w,{onConfirm:n,isVisible:l,hide:d,entityTypename:"Post"})})),i.createElement(g,{targetPostId:e},(function(t){var n=t.mutate;return i.createElement(y.Sl,null,i.createElement(P.r,{onClick:function(){o?u():n()}},o?"Hide responses":"Show responses"))})))}},86948:(t,n,e)=>{"use strict";e.d(n,{z:()=>P,e:()=>h});var o=e(28655),r=e.n(o),i=e(71439),a=e(67294),s=e(66249),l=e(46101),u=e(76532),c=e(62181),d=e(33914),p=e(6688),m=e(14391),f=e(67297),g=e(353),v=e(27952);function y(){var t=r()(["\n  fragment BookmarkButton_post on Post {\n    visibility\n    ...SusiClickable_post\n    ...AddToCatalogBookmarkButton_post\n  }\n  ","\n  ","\n"]);return y=function(){return t},t}var P=(0,i.Ps)(y(),c.qU,s.GD);function h(t){var n=t.post,e=t.withReadingListTooltip,o=void 0===e||e,r=t.susiEntry,i=n.id,y=n.visibility,P=(0,p.I)(),h=(0,f.v9)((function(t){return t.config.authDomain})),I=(0,u.H)(),b=I.value;return I.loading||y===m.Wn.UNLISTED?null:b?a.createElement(s.o0,{kind:m.ej.POST,target:n}):a.createElement(d._,{isVisible:o,placement:"top",targetDistance:10,tooltipText:"Bookmark story"},a.createElement(c.R9,{post:n,operation:"register",actionUrl:(0,v.XET)(h,i),susiEntry:r},a.createElement(g.Z,{className:P(l.K)})))}},71245:(t,n,e)=>{"use strict";e.d(n,{Lf:()=>g,h3:()=>v,yb:()=>y});var o=e(63038),r=e.n(o),i=e(28655),a=e.n(i),s=e(71439),l=e(46829),u=e(67294),c=e(14391);function d(){var t=a()(["\n  mutation RejectPostFromPubMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return d=function(){return t},t}function p(){var t=a()(["\n  mutation ManageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return p=function(){return t},t}var m=(0,s.Ps)(p()),f=(0,s.Ps)(d()),g=function(t){var n=(0,l.useMutation)(m),e=r()(n,1)[0];return(0,u.useCallback)((function(n){return e({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:t.id,status:c.Zj.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:t.id,statusForCollection:c.Zj.PENDING,pendingCollection:n}}})}),[t])},v=function(t){var n=(0,l.useMutation)(m),e=r()(n,1)[0];return(0,u.useCallback)((function(n){return e({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:t.id,status:c.Zj.APPROVED}})}),[t])},y=function(t){var n=(0,l.useMutation)(f),e=r()(n,1)[0];return(0,u.useCallback)((function(n){return e({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:t.id,status:c.Zj.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:t.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(t){if(t.errors&&t.errors[0])throw t.errors[0];return t}))}),[t])}},78820:(t,n,e)=>{"use strict";e.d(n,{Zu:()=>C,n_:()=>I,xt:()=>y,KQ:()=>P,In:()=>h,PB:()=>b});var o=e(63038),r=e.n(o),i=e(28655),a=e.n(i),s=e(46829),l=e(71439),u=e(67294);function c(){var t=a()(["\n  mutation postSetPinnedByCreatorAt($postId: ID!, $isPinned: Boolean!) {\n    postSetPinnedByCreatorAt(targetPostId: $postId, isPinned: $isPinned) {\n      __typename\n      ... on Post {\n        id\n        pinnedByCreatorAt\n      }\n    }\n  }\n"]);return c=function(){return t},t}function d(){var t=a()(["\n  mutation setPinnedAt($postId: ID!, $collectionId: ID!, $pinnedAt: Boolean!) {\n    __typename\n    setPinnedAt(targetPostId: $postId, targetCollectionId: $collectionId, pinnedAt: $pinnedAt) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n        }\n        pendingCollection {\n          id\n        }\n        pinnedAt\n      }\n    }\n  }\n"]);return d=function(){return t},t}var p=(0,l.Ps)(d()),m=(0,l.Ps)(c()),f=e(61250),g=e(27952);function v(){var t=a()(["\n  fragment useIsPinnedInContext_post on Post {\n    id\n    collection {\n      id\n    }\n    pendingCollection {\n      id\n    }\n    pinnedAt\n    pinnedByCreatorAt\n  }\n"]);return v=function(){return t},t}var y=(0,l.Ps)(v()),P=function(t){var n=t.id,e=t.collection,o=t.pendingCollection,i=t.pinnedAt,a=(e||o||{id:""}).id,l=(0,s.useMutation)(p,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:e,pendingCollection:o,pinnedAt:i?0:Date.now()}}}),c=r()(l,1)[0],d=u.useCallback((function(){return c({variables:{postId:n,collectionId:a,pinnedAt:!i}})}),[n,a,i,c]);return[i,d]},h=function(t){var n=t.id,e=t.pinnedByCreatorAt,o=(0,s.useMutation)(m,{optimisticResponse:{postSetPinnedByCreatorAt:{__typename:"Post",id:n,pinnedByCreatorAt:e?0:Date.now()}}}),i=r()(o,1)[0],a=u.useCallback((function(){return i({variables:{postId:n,isPinned:!e}})}),[n,i,e]);return[e,a]},I=function(t,n){var e=P(t),o=r()(e,2),i=o[0],a=o[1],s=h(t),l=r()(s,2),c=l[0],d=l[1],p=u.useCallback((function(){return"Collection"===n?a():d()}),[n,a,d]);return["Collection"===n?i:c,p]},b=function(t,n){var e="Collection"===t.__typename?t.slug:null,o=(0,f.di)("ShowCollectionHome",e?{collectionSlug:e}:{collectionSlug:""});return"Collection"===t.__typename?o:"User"===t.__typename&&t.username?(0,g.AWr)(t,n):""},C=function(t){switch(t.__typename){case"Collection":return"Publication";case"User":return"Author";default:return"Publisher"}}},72345:(t,n,e)=>{"use strict";e.d(n,{w:()=>a});var o=e(67294),r=e(92214),i=e(92528),a=function(t){var n=t.onConfirm,e=t.isVisible,a=t.hide,s=t.entityTypename,l=(0,r.Pm)(s);return o.createElement(i.Q,{onConfirm:n,isVisible:e,hide:a,titleText:"Hide responses",confirmText:"Confirm",isDestructiveAction:!1},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your ",l,".")}},73232:(t,n,e)=>{"use strict";e.d(n,{Q:()=>o,t:()=>r});var o="This story is also a response to another story. Are you sure you want to delete this story?",r="This story is also a response to another story. Any edits are applied to both."},90639:(t,n,e)=>{"use strict";e.d(n,{$:()=>g});var o=e(63038),r=e.n(o),i=e(67294),a=e(77284),s=e(42933),l=e(13397),u=e(71229),c=e(55099),d=e(82318),p=e(3149),m=e(37278),f=e(98024),g=function(t){var n=t.isVisible,e=t.hide,o=t.onSubmit,g=t.isResponse,v=i.useState(!1),y=r()(v,2),P=y[0],h=y[1],I=i.useState("Spam"),b=r()(I,2),C=b[0],k=b[1],E=i.useCallback((function(t,n){return k(n)}),[]),S="reportStoryTitle";return i.createElement(a.V,{isVisible:n,hide:e,noPortal:g,withCloseButton:!1,customBackgroundColor:g?"rgba(255, 255, 255, 0.97)":"rgba(255, 255, 255, 0.94)"},i.createElement(s.x,{height:"550px",width:g?"100%":"900px",background:g?"none":"white",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:g?"none":"rgba(0, 0, 0, 0.15) 0px 2px 10px",padding:"18px",position:"relative",sm:{boxShadow:"none",background:"none"},xs:{boxShadow:"none",background:"none"}},i.createElement(s.x,{display:"flex",margin:"auto",flexDirection:"column",alignItems:g?"flex-start":"center"},i.createElement(m.X6,{scale:"M",ariaLabelledById:S},"Report ",g?"Response":"Story"),i.createElement(s.x,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},i.createElement(s.x,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},i.createElement(l.E,{onChange:E,value:C,radioStyle:"SUBTLE",options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}],radioButtonsName:"reportStory",ariaLabelledBy:S})),i.createElement(u.X,{checked:P,onChange:function(){h(!P)}},i.createElement(s.x,{paddingTop:g?"16px":"0"},"Also block the author of this ",g?"response":"story"))),i.createElement(s.x,{display:"flex",justifyContent:"center",marginBottom:"10px"},i.createElement(s.x,{marginRight:"8px"},i.createElement(c.z,{onClick:e},"Cancel")),i.createElement(c.z,{buttonStyle:"ERROR",onClick:function(){o(P,C),e()}},"Report")),i.createElement(s.x,{marginTop:"50px",textAlign:g?"left":"center"},i.createElement(f.F,{scale:"M",tag:"div"},"Report"," ",i.createElement(d.r,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"copyright infringement")," ","or"," ",i.createElement(d.r,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"trademark infringement"),". ",!g&&i.createElement("br",null),"Read"," ",i.createElement(d.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"our rules"),"."))),!g&&i.createElement(p.P,{onClick:e,size:"LARGE",absoluteOffset:"18px"})))}},29169:(t,n,e)=>{"use strict";e.d(n,{z:()=>p});var o=e(63038),r=e.n(o),i=e(67294),a=e(33241),s=e(32589),l=e(32262),u=e(90639),c=e(82318),d=e(51064),p=function(t){var n=t.hidePopover,e=t.targetUserId,o=t.postId,p=t.viewerId,m=(0,s.Pd)({id:e}).viewerEdge,f=!(null==m||!m.isBlocking),g=(0,d.O)(!1),v=r()(g,3),y=v[0],P=v[1],h=v[2];return i.createElement(i.Fragment,null,i.createElement(a.H,{targetAuthorId:e,targetPostId:o,isBlocking:f,onOptimisticComplete:function(){h(),n()},viewerId:p},(function(t){var n=t.mutate;return i.createElement(u.$,{onSubmit:n,isVisible:y,hide:h})})),i.createElement(l.Sl,null,i.createElement(c.r,{onClick:function(){P()}},"Report this story")))}},39171:(t,n,e)=>{"use strict";function o(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==e.return||e.return()}finally{if(l)throw a}}}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}e.d(n,{B:()=>i});var i=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){var t,e=o(n);try{for(e.s();!(t=e.n()).done;)(0,t.value)()}catch(t){e.e(t)}finally{e.f()}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3730.063dd8cc.chunk.js.map